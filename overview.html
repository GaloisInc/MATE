

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>MATE System Overview &mdash; MATE 0.1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_paramlinks.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CPG Schema" href="schemata/cpg.html" />
    <link rel="prev" title="Debugging Challenge Build Failures" href="debugging-builds.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MATE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">For MATE Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-workflow.html">MATE User Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="vulnerability-types.html">Vulnerability Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-flowfinder.html">Using Flowfinder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For MATE Power Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="using-rest-api.html">Using the REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-notebooks.html">MATE Python Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="usagefinder.html">UsageFinder</a></li>
<li class="toctree-l1"><a class="reference internal" href="mantiserve.html">Mantiserve</a></li>
<li class="toctree-l1"><a class="reference internal" href="under-constrained-manticore.html">Under-constrained Manticore</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debugging-builds.html">Debugging Challenge Build Failures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MATE Implementation Details</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">MATE System Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-mate-workflow">The MATE Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mate-features">MATE Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-mate-code-property-graph">The MATE Code Property Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pointer-analysis">Pointer Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-query-interface">The Query Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#poi-queries">POI Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flowfinder">Flowfinder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#symbolic-execution-with-manticore">Symbolic Execution with Manticore</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="api.html#http://">MATE REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="schemata/cpg.html">CPG Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="signatures.html">MATE Signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">MATE POI Analyses</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For MATE Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hacking.html">Hacking on MATE</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Writing and running MATE’s tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">MATE Tooling Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="chess-system.html">Working with the CHESS System</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Starting Stand-alone MATE</a></li>
<li class="toctree-l1"><a class="reference internal" href="mate-cli-overview.html">mate-cli Command Line Tool Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command-Line Tools Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="dwarfcore.html">Dwarfcore</a></li>
<li class="toctree-l1"><a class="reference internal" href="standalonepa.html">cclyzer++</a></li>
<li class="toctree-l1"><a class="reference internal" href="trace.html">MATE Traces</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environment variables in the MATE container</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">MATE API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal.html">Legal</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MATE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>MATE System Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mate-system-overview">
<h1>MATE System Overview<a class="headerlink" href="#mate-system-overview" title="Permalink to this headline">¶</a></h1>
<img alt="_images/mate-architecture.jpg" src="_images/mate-architecture.jpg" />
<p>Merged Analysis To Prevent Exploits (MATE) is a set of tools for finding
vulnerabilities in C and C++ programs. MATE unifies application-specific and
low-level vulnerability analysis using code property graphs (CPGs), enabling
the discovery of highly application-specific vulnerabilities that depend on
both implementation details and the high-level semantics of target C/C++
programs.</p>
<div class="section" id="the-mate-workflow">
<h2>The MATE Workflow<a class="headerlink" href="#the-mate-workflow" title="Permalink to this headline">¶</a></h2>
<p>Given a C/C++ program MATE performs both whole program static and dynamic
analyses which can be combined in search of vulnerabilities.</p>
<p>The static analyses works by first compiling the target program to a single
<code class="docutils literal notranslate"><span class="pre">.ll</span></code> or <code class="docutils literal notranslate"><span class="pre">.bc</span></code> LLVM Intermediate Representation (IR) file using
<a class="reference external" href="https://github.com/SRI-CSL/gllvm">GLLVM</a>. MATE
then constructs a CPG from the IR by compiling it with a custom build of LLVM.
The database can be queried using a Python query interface (see below) which
provides relevant domain-specific query abilities, such as searching for
control-flow paths with certain properties.</p>
<p>When a program is built with MATE, MATE performs a collection of built-in
analyses for common vulnerabilities types, and reports findings as Points of
Interest. See the <a class="reference internal" href="analysis.html"><span class="doc">POI Analyses</span></a> documentation for details.</p>
<p>To enable users to effectively explore potential vulnerabilities
discovered by MATE’s automated analyses and apply their insights to
find concrete evidence of exploitability, MATE includes a custom
graphical user interface component Flowfinder. Flowfinder allows users to
explore the CPG by interacting with a point-and-click graph
visualization of the program, rather than manually reviewing source
code or writing complex analysis queries.</p>
<p>To answer more complex questions about the program, users can also access an
interactive notebook service that gives programmatic access to the full CPG
representation via a domain-specific query language. These notebooks can be used
for one-off explorations, or as a platform for users to build reusable apps on
the MATE platform. MATE includes the <a class="reference internal" href="usagefinder.html"><span class="doc">UsageFinder</span></a> app for
finding vulnerabilities that result from incorrect usage of internal or external
APIs.</p>
<p>MATE includes the <a class="reference external" href="https://github.com/trailofbits/manticore">Manticore</a>
symbolic execution engine, which can be used to complement MATE’s static
analysis capabilities with dynamic analysis for further exploration and
validation of the behavior of the target program.</p>
</div>
<div class="section" id="mate-features">
<h2>MATE Features<a class="headerlink" href="#mate-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-mate-code-property-graph">
<h3>The MATE Code Property Graph<a class="headerlink" href="#the-mate-code-property-graph" title="Permalink to this headline">¶</a></h3>
<p>MATE combines representations of a program’s syntax, control-flow, data-flow,
and the results of static analyses into a CPG that can be queried to identify
potential flaws. One of the central features of the MATE CPG is a comprehensive
and accurate mapping between program representations that occur at different
phases of compilation, from the source level (LLVM bitcode), through the LLVM
middle-end, all the way to the binary and its embedded DWARF debugging
information. For more information on the CPG, see <a class="reference internal" href="schemata/cpg.html"><span class="doc">schema</span></a>.</p>
</div>
<div class="section" id="pointer-analysis">
<h3>Pointer Analysis<a class="headerlink" href="#pointer-analysis" title="Permalink to this headline">¶</a></h3>
<p>MATE uses a precise, context-sensitive pointer analysis for C and C++ that
allows for accurate, narrow tracking of data- and control-flow through the
program under analysis. For more on the pointer analysis in MATE, see <a class="reference internal" href="standalonepa.html"><span class="doc">the
documentation</span></a>.</p>
</div>
<div class="section" id="the-query-interface">
<h3>The Query Interface<a class="headerlink" href="#the-query-interface" title="Permalink to this headline">¶</a></h3>
<p>MATE provides a SQLAlchemy-based Domain Specific Language (DSL) for querying the
CPG, embedded in Python. It has abstractions relevant to program analysis, for
example, control- and data-flow path queries. See the
<a class="reference internal" href="api/MATE/modules.html"><span class="doc">API documentation</span></a> for more information.</p>
</div>
<div class="section" id="poi-queries">
<h3>POI Queries<a class="headerlink" href="#poi-queries" title="Permalink to this headline">¶</a></h3>
<p>POI (Point-Of-Interest) queries are CPG queries written by MATE users and
developers that identify potentially problematic spots in a code base. These
can then be triaged with human assistance or examined using directed symbolic
execution. See <a class="reference internal" href="vulnerability-types.html"><span class="doc">Vulnerability Types</span></a> for
more information.</p>
</div>
<div class="section" id="flowfinder">
<h3>Flowfinder<a class="headerlink" href="#flowfinder" title="Permalink to this headline">¶</a></h3>
<p>Flowfinder is an interactive, graphical user interface for exploring a
program’s code property graph. Given a potential vulnerability
discovered via MATE’s automated analyses, Flowfinder displays relevant
fragments of the CPG that explain relationships between program inputs,
outputs, and computations. Users can deepen their understanding of the
potential vulnerability by viewing additional fragments of the CPG
that answer specific questions about program elements, such as data
flows or control dependencies that influence specific statements. By
exploring a potential vulnerability using Flowfinder, users can apply
their high-level insights about the program’s semantics and security
requirements to eliminate analysis false positives or develop concrete
inputs that demonstrate the insecurity of the program. See <a class="reference internal" href="using-flowfinder.html"><span class="doc">Using Flowfinder</span></a> for more information.</p>
</div>
<div class="section" id="symbolic-execution-with-manticore">
<h3>Symbolic Execution with Manticore<a class="headerlink" href="#symbolic-execution-with-manticore" title="Permalink to this headline">¶</a></h3>
<p>One of the goals of the CHESS program is to not only find bugs, but generate
proofs of vulnerability (PoVs) that demonstrate the problems in the target
programs. MATE’s approach to assisted PoV generation uses binary-level symbolic
execution with Manticore (developed by Trail of Bits). While MATE must have
access to the program source and does extensive analysis at that level,
binary-level symbolic execution helps ensure that MATE only generates true
exploits.</p>
<p>Symbolic execution is incredibly powerful, in that it can solve complicated
constraints and generate inputs to a program that cause very specific behavior.
This precision comes at the cost of performance; it’s prohibitively expensive
to explore all paths in a large program using a tool like Manticore. The MATE
solution is to identify possible bugs using a range of methods
(manual inspection, POI queries, fuzzing), and then to use <em>directed</em> symbolic
execution to generate PoVs. Directed symbolic execution is when the engine
(Manticore) is provided with additional constraints telling it where to look,
rather then exploring the program state space freely.</p>
<p>See the <a class="reference internal" href="under-constrained-manticore.html"><span class="doc">Under-constrained Manticore</span></a> and
<a class="reference internal" href="mantiserve.html"><span class="doc">Mantiserve</span></a> documentation for more information on accessing
symbolic execution functionality within MATE.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="schemata/cpg.html" class="btn btn-neutral float-right" title="CPG Schema" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="debugging-builds.html" class="btn btn-neutral float-left" title="Debugging Challenge Build Failures" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2022, The MATE Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>